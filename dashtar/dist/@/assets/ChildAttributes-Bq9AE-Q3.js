import{j as e,d as s,t as O,f as V,r as g,S as q,L as z}from"./index-CU2_kOLs.js";import{S as G,u as k,h as J,g as K,e as Q,f as W}from"./Layout-DRuA_42E.js";import{T as C,D as X,u as B,M as F}from"./DrawerButton-0gO4Hlg-.js";import{C as P,S as Y,B as Z}from"./BulkActionDrawer-B3aeXq8p.js";import{D as E,E as $}from"./EditDeleteButton-on8Y3x1g.js";import{E as A}from"./index.esm-DIMQlkj7.js";import{I as ee}from"./InputArea-BIZuEPJq.js";import{L as v}from"./LabelArea-CAL50iuc.js";import{S as se}from"./SwitchToggle-BnYDP_80.js";import{u as le}from"./useAttributeSubmit-D8hALua6.js";import{L as ae}from"./Loading-BWNOG7Zl.js";import{N as re}from"./NotFound-CqWvhjgB.js";import{P as te}from"./PageTitle-yWCDsDLT.js";import{u as S}from"./useAsync-B8u39IQg.js";import{u as ie}from"./useFilter-BqmGAN4t.js";import{A as D}from"./ProductServices-Cr3_umUf.js";import{A as ne}from"./AnimatedContent-BRwehZiw.js";import"./iconBase-CMZs39VK.js";import"./useDispatch-DNOf3xOQ.js";import"./httpService-JQLsFEdd.js";import"./spinner-CkndCogW.js";import"./index.prod-C20Q0sNj.js";import"./CurrencyServices-D7bllOcu.js";import"./LanguageServices-J1joDgr0.js";import"./toast-C6v5B_PI.js";import"./index-7mr9-FxN.js";import"./ParentCategory-DKrqctpp.js";import"./AdminServices-D_Y1VEvB.js";import"./Tooltip-CHrqK3eg.js";import"./index-C5uRs8v0.js";const I=({id:r})=>{const{handleSubmit:n,onSubmits:t,register:i,errors:o,published:h,isSubmitting:m,setPublished:p,handleSelectLanguage:a}=le(r);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:r?e.jsx(C,{register:i,handleSelectLanguage:a,title:"属性値を追加/更新",description:"Add your attribute values and necessary information from here"}):e.jsx(C,{register:i,handleSelectLanguage:a,title:"属性値を追加/更新",description:"Add your attribute values and necessary information from here"})}),e.jsx(G,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:e.jsxs("form",{onSubmit:n(t),children:[e.jsxs("div",{className:"px-6 pt-8 flex-grow scrollbar-hide w-full max-h-full pb-40",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6 items-center",children:[e.jsx(v,{label:"Display Name"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(ee,{required:!0,register:i,label:"Display Name",name:"name",type:"text",placeholder:"カラー・サイズ・寸法・素材・生地"}),e.jsx(A,{errorName:o.name})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6 items-center",children:[e.jsx(v,{label:"公開済み"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(se,{handleProcess:p,processOption:h}),e.jsx(A,{errorName:o.published})]})]})]}),e.jsx(X,{id:r,title:"属性",isSubmitting:m})]})})]})},de=({att:r,loading:n,isCheck:t,setIsCheck:i,childAttributes:o})=>{const{title:h,serviceId:m,handleModalOpen:p,handleUpdate:a}=B(),{showingTranslateValue:c}=k(),u=l=>{const{id:d,checked:x}=l.target;i([...t,d]),x||i(t.filter(N=>N!==d))};return e.jsxs(e.Fragment,{children:[t.length<1&&e.jsx(E,{id:m,title:h}),t.length<2&&e.jsx(F,{children:e.jsx(I,{id:m})}),e.jsx(s.TableBody,{children:o==null?void 0:o.map((l,d)=>{var x;return e.jsxs(s.TableRow,{children:[e.jsx(s.TableCell,{children:e.jsx(P,{type:"checkbox",name:"child-attribute",id:l._id,handleClick:u,isChecked:t==null?void 0:t.includes(l._id)})}),e.jsx(s.TableCell,{className:"font-semibold uppercase text-xs",children:(x=l==null?void 0:l._id)==null?void 0:x.substring(20,24)}),e.jsx(s.TableCell,{className:"font-medium text-sm",children:c(l==null?void 0:l.name)}),e.jsx(s.TableCell,{className:"font-medium text-sm",children:r==null?void 0:r.option}),e.jsx(s.TableCell,{className:"text-center",children:e.jsx(Y,{id:l._id,status:l.status})}),e.jsx(s.TableCell,{children:e.jsx($,{id:l._id,isCheck:t,setIsCheck:i,handleUpdate:a,handleModalOpen:p,title:c(l.name)})})]},d+1)})})]})},Ue=()=>{let{id:r}=O();const{t:n}=V(),{handleDeleteMany:t,allId:i,serviceId:o,handleUpdateMany:h}=B(),{toggleDrawer:m,lang:p}=g.useContext(q),{data:a,loading:c,error:u}=S(()=>D.getAttributeById(r)),{showingTranslateValue:l}=k(),{data:d}=S(()=>D.getAllAttributes({type:"attribute",option:"Dropdown",option1:"Radio"})),{totalResults:x,resultsPerPage:N,dataTable:L,serviceData:w,handleChangePage:_}=ie(a==null?void 0:a.variants),[y,M]=g.useState(!1),[j,f]=g.useState([]),[R,U]=g.useState([]),H=()=>{var b;M(!y),f((b=a==null?void 0:a.variants)==null?void 0:b.map(T=>T._id)),y&&f([])};return g.useEffect(()=>{const b=d==null?void 0:d.filter(T=>T._id!==r);U(b)},[d,r]),e.jsxs(e.Fragment,{children:[e.jsx(te,{children:"属性値"}),e.jsx(E,{ids:i,setIsCheck:f,title:"選択された属性値(s)"}),e.jsx(Z,{attributes:R,ids:i,title:"属性値(s)",childId:r}),e.jsx(F,{children:e.jsx(I,{id:o})}),e.jsxs(ne,{children:[e.jsx("div",{className:"flex items-center pb-4",children:e.jsxs("ol",{className:"flex items-center w-full overflow-hidden font-serif",children:[e.jsx("li",{className:"text-sm pr-1 transition duration-200 ease-in cursor-pointer hover:text-emerald-500 font-semibold",children:e.jsx(z,{className:"text-blue-700",to:"/attributes",children:"属性"})}),e.jsxs("span",{className:"flex items-center font-serif dark:text-gray-400",children:[e.jsxs("li",{className:"text-sm mt-[1px]",children:[" ",e.jsx(J,{})," "]}),e.jsx("li",{className:"text-sm pl-1 font-semibold dark:text-gray-400",children:!c&&l(a==null?void 0:a.title)})]})]})}),e.jsx(s.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:e.jsxs(s.CardBody,{className:"py-3 grid gap-4 justify-end lg:gap-4 xl:gap-4 md:flex xl:flex",children:[e.jsx("div",{className:"flex justify-end items-end",children:e.jsxs(s.Button,{onClick:m,className:"rounded-md h-12",children:[e.jsx("span",{className:"mr-3",children:e.jsx(K,{})}),"値を追加"]})}),e.jsx("div",{className:"w-full md:w-24 lg:w-24 xl:w-24",children:e.jsxs(s.Button,{disabled:j.length<1,onClick:()=>h(j),className:"w-full rounded-md h-12",children:[e.jsx(Q,{}),n("Bulk Action")]})}),e.jsxs(s.Button,{disabled:j.length<1,onClick:()=>t(j),className:"rounded-md h-12 bg-red-500",children:[e.jsx("span",{className:"mr-3",children:e.jsx(W,{})}),n("Delete")]})]})})]}),c?e.jsx(ae,{loading:c}):u?e.jsx("span",{className:"text-center mx-auto text-red-500",children:u}):(w==null?void 0:w.length)!==0?e.jsxs(s.TableContainer,{className:"mb-8",children:[e.jsxs(s.Table,{children:[e.jsx(s.TableHeader,{children:e.jsxs("tr",{children:[e.jsx(s.TableCell,{children:e.jsx(P,{type:"checkbox",name:"selectAll",id:"selectAll",handleClick:H,isChecked:y})}),e.jsx(s.TableCell,{children:"ID"}),e.jsx(s.TableCell,{children:n("Name")}),e.jsx(s.TableCell,{children:n("Type")}),e.jsx(s.TableCell,{className:"text-center",children:n("Status")}),e.jsx(s.TableCell,{className:"text-right",children:n("Actions")})]})}),e.jsx(de,{att:a,lang:p,loading:c,isCheck:j,setIsCheck:f,childAttributes:L})]}),e.jsx(s.TableFooter,{children:e.jsx(s.Pagination,{totalResults:x,resultsPerPage:N,onChange:_,label:"テーブルナビゲーション"})})]}):e.jsx(re,{title:"申し訳ありません。現在、属性はありません。"})]})};export{Ue as default};
